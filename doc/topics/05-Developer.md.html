<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Jester documentation</title>
    <link rel="stylesheet" href="../ldoc_fixed.css" type="text/css" />
    <link rel="stylesheet" href="../ldoc.custom.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Jester</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Quick_reference">Quick reference </a></li>
<li><a href="#Core_stacks">Core stacks </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/01-Intro.md.html">01-Intro</a></li>
  <li><a href="../topics/02-Profiles.md.html">02-Profiles</a></li>
  <li><a href="../topics/03-Sequences.md.html">03-Sequences</a></li>
  <li><a href="../topics/04-Scripts.md.html">04-Scripts</a></li>
  <li><strong>05-Developer</strong></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/core.html">core</a></li>
  <li><a href="../modules/core.conf.html">core.conf</a></li>
  <li><a href="../modules/core_actions.html">core_actions</a></li>
  <li><a href="../modules/couchdb.html">couchdb</a></li>
  <li><a href="../modules/data.html">data</a></li>
  <li><a href="../modules/dialplan_tools.html">dialplan_tools</a></li>
  <li><a href="../modules/email.html">email</a></li>
  <li><a href="../modules/event.html">event</a></li>
  <li><a href="../modules/file.html">file</a></li>
  <li><a href="../modules/format.html">format</a></li>
  <li><a href="../modules/get_digits.html">get_digits</a></li>
  <li><a href="../modules/hangup.html">hangup</a></li>
  <li><a href="../modules/log.html">log</a></li>
  <li><a href="../modules/navigation.html">navigation</a></li>
  <li><a href="../modules/play.html">play</a></li>
  <li><a href="../modules/record.html">record</a></li>
  <li><a href="../modules/service.html">service</a></li>
  <li><a href="../modules/speech_to_text.html">speech_to_text</a></li>
  <li><a href="../modules/system.html">system</a></li>
  <li><a href="../modules/tracker.html">tracker</a></li>
</ul>
<h2>Scripts</h2>
<ul class="nowrap">
  <li><a href="../scripts/jester.lua.html">jester.lua</a></li>
  <li><a href="../scripts/socket.lua.html">socket.lua</a></li>
  <li><a href="../scripts/extract_actions.lua.html">extract_actions.lua</a></li>
  <li><a href="../scripts/action_map.lua.html">action_map.lua</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/log_test.lua.html">log_test.lua</a></li>
  <li><a href="../examples/phone_to_post_test.lua.html">phone_to_post_test.lua</a></li>
</ul>

</div>

<div id="content">


<h1>Developer documentation</h1>

<p>In the future this section will be more detailed. For now it's just a holding place for the outline of the future help, and a quick reference to the Jester core functions that are most commonly used in modules.</p>

<p>The core code and modules are fairly well documented, and much can be learned from reviewed them directly. The most important quick tips are:</p>

<ul>
    <li>You must have this line at the top of your main module file:

<pre>
<span class="keyword">local</span> core = <span class="global">require</span> <span class="string">"jester.core"</span>
</pre>

This allows you to access Jester core via the <code>core</code> variable.</li>
    <li>The main module file must named <code>init.lua</code>. The <code>foo</code> module would live at

<pre>
jester/modules/foo/init.lua
</pre>
</li>
    <li>A 'conf.lua' is required:

<pre>
jester/modules/foo/conf.lua
</pre>

The file contains a mapping of module functions to action names, and can declare multiple handlers for actions.</li>
</ul>

<p><a name="Quick_reference"></a></p>
<h2>Quick reference</h2>

<ul>
    <li>workflow:

<pre>
core.run_action(action)
core.queue_sequence(sequence)
</pre>
</li>
    <li>data:

<pre>
core.get_storage(area, key, [default])
core.set_storage(area, key, value)
core.clear_storage(area, [key])
</pre>
</li>
    <li>key_presses:

<pre>
core.actionable_key()
core.keys
</pre>
</li>
    <li>loops:

<pre>
<span class="comment">-- Different than session:ready()!
</span>core.ready()
</pre>
</li>
    <li>logging:

<pre>
<span class="comment">-- Discouraged to use in a module, let the user do their own custom
</span><span class="comment">-- logging with the log action.
</span>core.log(msg, [prefix], [level])
<span class="comment">-- Recommended, use extensively so that problems can be easily spotted
</span><span class="comment">-- when debugging is turned on.
</span>core.debug_log(msg, ...)
</pre>
</li>
    <li>misc:

<pre>
core.wait(milliseconds)
core.trim(<span class="global">string</span>)
</pre>

Other core functions are available, check the code directly.</li>
</ul>

<p><a name="Core_stacks"></a></p>
<h2>Core stacks</h2>

<p>Jester keeps track of a lot of things in stacks, at the following namespaces:</p>

<ul>
    <li><code>core.channel.stack.sequence</code></li>
    <li><code>core.channel.stack.sequence_name</code></li>
    <li><code>core.channel.stack.navigation</code></li>
    <li><code>core.channel.stack.active</code></li>
    <li><code>core.channel.stack.exit</code></li>
    <li><code>core.channel.stack.hangup</code></li>
</ul>



</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-02-21 18:57:48 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
